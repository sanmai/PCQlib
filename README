############################################################
SONY USB GPS HGR1/HGR3 Library
	 by Hirotaka Horie<nandu@ht.sfc.keio.ac.jp>
	 Thu Mar 15 19:43:00 JST 2001
############################################################

SONY GPS HGR1/HGR3 の起動・終了方法を調べてくださった，
Hiroyuki Aizu <aizu@jaist.ac.jp> さん，
http://www.mars.sphere.ne.jp/navi/gps/

と

GPSD 用 SONY GPS PC-Card PACY CNV10 用ライブラリを作成された
Kouichi ABE (WALL) <kouichi@etn.yz.yamagata-u.ac.jp> さん，
http://www.mysticwall.com/software/gps.html

の know how をマージして作成した，ライブラリです．

いつもながらのお約束ですが…

このソフトウェアによって利用者または第三者が何らかの被害を受けた場合，
作者はその責任を一切負わないこととします。この事を承諾する限りにおいて、
誰でも作者に断りなく全てのソースの配布、改変、引用、二次利用については
自由に行なっても構いません。ただし，商用利用は御遠慮ください．研究目的
にご利用になるさいには全くかまいません．

このGPS出力データの格納方式は，先人が行ったのデータ解析によるものを利
用しているだけのはずで，SONY より提供されたデータは一切使用していない
はずです．そのため，このライブラリは as is で御自分の責任にて利用して
ください．

GPS の出力データ形式が結構変更されているのでそれに対応させました．

変更点は…
・GPS内部にある時計の出力が2000年対応のため，4桁に変更したことへの対応
・GPSの衛生の数が8個から16個に変更したことへの対応
・ugen のドライバでは USBのデータ出力が綺麗に同期しないので，
そのデータ出力への同期に対応

これからの to do として…
・最後のjunkとして扱われている5このデータのうち，
2つは意味のあるデータなのでそれへの対応．
・JAVA で利用できるように，JAVA版を作成．

この ライブラリの開発環境は

ThinkPad X20
FreeBSD 4-Stable(Wed Mar  7 16:40:22 JST 2001)

で，uhid をカーネル再構築時に削除し，ugenを利用してデータを取得しています．

FreeBSD/NetBSD などで，uhid として 認識してほしくないデバイスをあるファ
イルに登録し，それをuhidが呼ばれる時に確認してから，そこに登録されたデ
バイスはuhidデバイスとして認識しないようにはじくとすることがベストだと
考えます．ので， 暇な時にuhidをそのようにできるように直してみます．

この方式をUSBにおける hid に適応することは hid の理念上，非常に嫌でしょ
うが，現実に多くのデバイスがhidとしてではなく，専用のデバイスドライバ
を必要とする機器が存在するので，このような工夫は必要だと思われます．

ugen を利用したユーザランドからたたけるドライバを作成し，それを容易に，
汎用的につかえるようにするには，こちらの方が，かぎりのあるメイジャー番
号を登録する必要が無いため良いと思います．

ファイルの説明は FILES と Makefile を解析してください…(結構不親切だけど)

著作権はだれに既存するのかがわからないので，なんともいえないですが，私
のクレジットとしては，「ugenから読みこむ時の同期を上手くできるようにし
た．」ってなぐらいです．

面白いソフトウェアを作成されたら，是非それを公開してください!!
